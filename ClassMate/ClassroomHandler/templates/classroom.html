{% extends "base.html" %} 
{% block title %} {{classroom.class_name}} {% endblock %} 
{% block start %}


<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <span class="navbar-brand mb-0 h1">Classmate</span>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/home/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examroom' classroom.class_id %}">Examroom</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Dropdown
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
        </li>
      </ul>
      <form class="d-flex" role="search">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>


<div class="container mt-3">
  <div class="card">

    {% if classroom.cover_image %}
      <img
        src="/media/{{ classroom.cover_image }}"
        style="width: 100%; height: 50%"
        class="card-img img-fluid"
        alt="Class Cover"
        id="class-cover-image"
      />
    {% else %}
      <img
          src="/media/classroom_covers/default_cover.jpg"
          style="width: 100%; height: 50%"
          class="card-img img-fluid"
          alt="Class Cover"
          id="class-cover-image"
        />
    {% endif %}

    <div
      class="card-img-overlay text-white d-flex flex-column justify-content-end"
    >
      <h2 class="card-title mb-0">{{classroom.class_name}}</h2>
      {% if classroom.subject %}
        <h5 class="card-text">{{classroom.subject}}</h5>
      {% endif %}
      {% if classroom.subject %}
        <h5 class="card-text">{{classroom.section}}</h5>
      {% endif %}

    </div>
  </div>

  {% if request.user == classroom.teacher %}
  <div class="d-flex">
    <div class="mt-3 card mr-2 col col-lg-4">
        <form class="card-body" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <input name="cover_image" class="form-control-file" type="file" id="coverImageUpload" accept="image/*" />
          <button type="submit" class="btn btn-primary btn-block mt-3">Update Cover</button>
        </form>
    </div>

    <div class="mt-3 card col col-lg-8">
      <form class="card-body" method="post" enctype="multipart/form-data">
        <input
          type="text"
          class="form-control"
          placeholder="Share something with your class..."
        />
        <button type="submit" class="btn btn-primary btn-block mt-3">Announce</button>
      </form>
    </div>
    
  </div>
  {% endif %}
</div>


{% endblock %}
